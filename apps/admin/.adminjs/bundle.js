(function (React, designSystem) {
    'use strict';

    function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

    var React__default = /*#__PURE__*/_interopDefault(React);

    const getParagraphsFromParams = (params, propertyName) => {
      const paragraphs = [];
      Object.keys(params).forEach(key => {
        if (key.startsWith(`${propertyName}.`)) {
          const parts = key.split('.');
          const index = parseInt(parts[1], 10);
          if (Number.isNaN(index)) return;
          if (!paragraphs[index]) {
            paragraphs[index] = {
              text: ''
            };
          }
          const subKey = parts.slice(2).join('.');
          paragraphs[index][subKey] = params[key];
        }
      });
      return paragraphs;
    };
    function ParagraphsEditor(props) {
      const {
        onChange,
        property,
        record
      } = props;
      const initialValue = record.params[property.name] || '[]';
      let parsedParagraphs;
      try {
        parsedParagraphs = JSON.parse(initialValue);
      } catch {
        parsedParagraphs = [];
      }
      if (!parsedParagraphs || parsedParagraphs.length === 0) {
        parsedParagraphs = getParagraphsFromParams(record.params, property.name);
      }
      const [paragraphList, setParagraphList] = React.useState(parsedParagraphs);
      React.useEffect(() => {
        onChange(property.name, paragraphList);
      }, [paragraphList, onChange, property.name]);
      const handleFieldChange = (index, field, value) => {
        const newList = [...paragraphList];
        newList[index] = {
          ...newList[index],
          [field]: value
        };
        setParagraphList(newList);
      };
      const handleAddParagraph = () => {
        setParagraphList([...paragraphList, {
          subtitle: '',
          text: '',
          image: ''
        }]);
      };
      const handleImageUpload = async (index, files) => {
        if (!files || files.length === 0) return;
        const file = files[0];
        const formData = new FormData();
        formData.append('image', file);
        const uploadResponse = await fetch('/api/upload', {
          method: 'POST',
          body: formData
        });
        if (uploadResponse.ok) {
          const data = await uploadResponse.json();
          const imageUrl = data.url;
          handleFieldChange(index, 'image', imageUrl);
        } else {
          alert('Opplastning feilet for paragraf');
        }
      };
      return /*#__PURE__*/React__default.default.createElement(designSystem.Box, null, paragraphList.map((paragraph, index) => (/*#__PURE__*/React__default.default.createElement(designSystem.Box, {
        key: `paragraph-${index}`,
        variant: "white",
        p: "lg",
        mb: "xl",
        border: "default"
      }, /*#__PURE__*/React__default.default.createElement(designSystem.Label, null, "Underoverskrift"), /*#__PURE__*/React__default.default.createElement(designSystem.Input, {
        value: paragraph.subtitle || '',
        onChange: e => handleFieldChange(index, 'subtitle', e.target.value)
      }), /*#__PURE__*/React__default.default.createElement(designSystem.Label, null, "Tekst"), /*#__PURE__*/React__default.default.createElement(designSystem.Input, {
        value: paragraph.text || '',
        onChange: e => handleFieldChange(index, 'text', e.target.value)
      }), /*#__PURE__*/React__default.default.createElement(designSystem.Label, null, "Bilde"), /*#__PURE__*/React__default.default.createElement(designSystem.DropZone, {
        onChange: files => handleImageUpload(index, files)
      }), paragraph.image && (/*#__PURE__*/React__default.default.createElement(designSystem.Box, {
        mt: "default"
      }, /*#__PURE__*/React__default.default.createElement("img", {
        src: paragraph.image,
        alt: "Paragraf bilde",
        style: {
          maxWidth: '200px'
        }
      })))))), /*#__PURE__*/React__default.default.createElement(designSystem.Button, {
        type: "button",
        variant: "primary",
        onClick: handleAddParagraph
      }, "Legg til paragraf"));
    }

    function UploadImage({
      record
    }) {
      const [file, setFile] = React.useState(null);
      const [uploading, setUploading] = React.useState(false);
      const resourceId = record?.resourceId || 'Article';
      const recordId = record?.id;
      const actionUrl = `/admin/api/resources/${resourceId}/records/${recordId}/edit`;
      const handleFileChange = files => {
        if (files && files.length > 0) {
          setFile(files[0]);
        }
      };
      const handleUpload = async () => {
        if (!file) return;
        setUploading(true);
        const formData = new FormData();
        formData.append('image', file);
        const response = await fetch('/api/upload', {
          method: 'POST',
          body: formData
        });
        setUploading(false);
        if (response.ok) {
          const data = await response.json();
          await fetch(actionUrl, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              featuredImage: data.url
            })
          });
          alert(`Bilde opplastet: ${data.url}`);
        } else {
          alert('Bildeopplasting feilet');
        }
      };
      return /*#__PURE__*/React__default.default.createElement(designSystem.Box, {
        variant: "grey"
      }, /*#__PURE__*/React__default.default.createElement(designSystem.Text, {
        variant: "lg"
      }, "Last opp bilde"), /*#__PURE__*/React__default.default.createElement(designSystem.DropZone, {
        onChange: handleFileChange
      }), /*#__PURE__*/React__default.default.createElement(designSystem.Button, {
        variant: "primary",
        onClick: handleUpload,
        disabled: uploading
      }, uploading ? 'Laster opp...' : 'Last opp'));
    }

    function FeaturedImageEditor(props) {
      const {
        onChange,
        property,
        record
      } = props;
      const initialValue = record.params[property.name] || '';
      const [currentImageUrl, setCurrentImageUrl] = React.useState(initialValue);
      React.useEffect(() => {
        onChange(property.name, currentImageUrl);
      }, [currentImageUrl, onChange, property.name]);
      const handleImageUpload = async files => {
        if (!files || files.length === 0) return;
        const file = files[0];
        const formData = new FormData();
        formData.append('image', file);
        const uploadResponse = await fetch('/api/upload', {
          method: 'POST',
          body: formData
        });
        if (uploadResponse.ok) {
          const data = await uploadResponse.json();
          const uploadedUrl = data.url;
          setCurrentImageUrl(uploadedUrl);
        } else {
          alert('Opplastning feilet for paragraf');
        }
      };
      return /*#__PURE__*/React__default.default.createElement(designSystem.Box, null, /*#__PURE__*/React__default.default.createElement(designSystem.Box, {
        variant: "white",
        p: "lg",
        mb: "xl",
        border: "default"
      }, /*#__PURE__*/React__default.default.createElement(designSystem.Label, null, "Bilde"), /*#__PURE__*/React__default.default.createElement(designSystem.DropZone, {
        onChange: files => handleImageUpload(files)
      }), currentImageUrl && (/*#__PURE__*/React__default.default.createElement(designSystem.Box, {
        mt: "default"
      }, /*#__PURE__*/React__default.default.createElement("img", {
        src: currentImageUrl,
        alt: "Featured",
        style: {
          maxWidth: '200px'
        }
      })))));
    }

    AdminJS.UserComponents = {};
    AdminJS.UserComponents.ParagraphEditor = ParagraphsEditor;
    AdminJS.UserComponents.UploadImage = UploadImage;
    AdminJS.UserComponents.FeaturedImageEditor = FeaturedImageEditor;

})(React, AdminJSDesignSystem);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9kaXN0L2NvbXBvbmVudHMvcGFyYWdyYXBoLWVkaXRvci5qcyIsIi4uL2Rpc3QvY29tcG9uZW50cy91cGxvYWQtaW1hZ2UuanMiLCIuLi9kaXN0L2NvbXBvbmVudHMvRmVhdHVyZWRJbWFnZUVkaXRvci5qcyIsImVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQm94LCBCdXR0b24sIERyb3Bab25lLCBMYWJlbCwgSW5wdXQsIH0gZnJvbSAnQGFkbWluanMvZGVzaWduLXN5c3RlbSc7XG5jb25zdCBnZXRQYXJhZ3JhcGhzRnJvbVBhcmFtcyA9IChwYXJhbXMsIHByb3BlcnR5TmFtZSkgPT4ge1xuICAgIGNvbnN0IHBhcmFncmFwaHMgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoYCR7cHJvcGVydHlOYW1lfS5gKSkge1xuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oaW5kZXgpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICghcGFyYWdyYXBoc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICBwYXJhZ3JhcGhzW2luZGV4XSA9IHsgdGV4dDogJycgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN1YktleSA9IHBhcnRzLnNsaWNlKDIpLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIHBhcmFncmFwaHNbaW5kZXhdW3N1YktleV0gPSBwYXJhbXNba2V5XTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwYXJhZ3JhcGhzO1xufTtcbmZ1bmN0aW9uIFBhcmFncmFwaHNFZGl0b3IocHJvcHMpIHtcbiAgICBjb25zdCB7IG9uQ2hhbmdlLCBwcm9wZXJ0eSwgcmVjb3JkIH0gPSBwcm9wcztcbiAgICBjb25zdCBpbml0aWFsVmFsdWUgPSByZWNvcmQucGFyYW1zW3Byb3BlcnR5Lm5hbWVdIHx8ICdbXSc7XG4gICAgbGV0IHBhcnNlZFBhcmFncmFwaHM7XG4gICAgdHJ5IHtcbiAgICAgICAgcGFyc2VkUGFyYWdyYXBocyA9IEpTT04ucGFyc2UoaW5pdGlhbFZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICBwYXJzZWRQYXJhZ3JhcGhzID0gW107XG4gICAgfVxuICAgIGlmICghcGFyc2VkUGFyYWdyYXBocyB8fCBwYXJzZWRQYXJhZ3JhcGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwYXJzZWRQYXJhZ3JhcGhzID0gZ2V0UGFyYWdyYXBoc0Zyb21QYXJhbXMocmVjb3JkLnBhcmFtcywgcHJvcGVydHkubmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IFtwYXJhZ3JhcGhMaXN0LCBzZXRQYXJhZ3JhcGhMaXN0XSA9IHVzZVN0YXRlKHBhcnNlZFBhcmFncmFwaHMpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIG9uQ2hhbmdlKHByb3BlcnR5Lm5hbWUsIHBhcmFncmFwaExpc3QpO1xuICAgIH0sIFtwYXJhZ3JhcGhMaXN0LCBvbkNoYW5nZSwgcHJvcGVydHkubmFtZV0pO1xuICAgIGNvbnN0IGhhbmRsZUZpZWxkQ2hhbmdlID0gKGluZGV4LCBmaWVsZCwgdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgbmV3TGlzdCA9IFsuLi5wYXJhZ3JhcGhMaXN0XTtcbiAgICAgICAgbmV3TGlzdFtpbmRleF0gPSB7IC4uLm5ld0xpc3RbaW5kZXhdLCBbZmllbGRdOiB2YWx1ZSB9O1xuICAgICAgICBzZXRQYXJhZ3JhcGhMaXN0KG5ld0xpc3QpO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlQWRkUGFyYWdyYXBoID0gKCkgPT4ge1xuICAgICAgICBzZXRQYXJhZ3JhcGhMaXN0KFsuLi5wYXJhZ3JhcGhMaXN0LCB7IHN1YnRpdGxlOiAnJywgdGV4dDogJycsIGltYWdlOiAnJyB9XSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IGFzeW5jIChpbmRleCwgZmlsZXMpID0+IHtcbiAgICAgICAgaWYgKCFmaWxlcyB8fCBmaWxlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGZpbGUgPSBmaWxlc1swXTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsIGZpbGUpO1xuICAgICAgICBjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VwbG9hZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodXBsb2FkUmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB1cGxvYWRSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGRhdGEudXJsO1xuICAgICAgICAgICAgaGFuZGxlRmllbGRDaGFuZ2UoaW5kZXgsICdpbWFnZScsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KCdPcHBsYXN0bmluZyBmZWlsZXQgZm9yIHBhcmFncmFmJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIG51bGwsXG4gICAgICAgIHBhcmFncmFwaExpc3QubWFwKChwYXJhZ3JhcGgsIGluZGV4KSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsga2V5OiBgcGFyYWdyYXBoLSR7aW5kZXh9YCwgdmFyaWFudDogXCJ3aGl0ZVwiLCBwOiBcImxnXCIsIG1iOiBcInhsXCIsIGJvcmRlcjogXCJkZWZhdWx0XCIgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIG51bGwsIFwiVW5kZXJvdmVyc2tyaWZ0XCIpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dCwgeyB2YWx1ZTogcGFyYWdyYXBoLnN1YnRpdGxlIHx8ICcnLCBvbkNoYW5nZTogKGUpID0+IGhhbmRsZUZpZWxkQ2hhbmdlKGluZGV4LCAnc3VidGl0bGUnLCBlLnRhcmdldC52YWx1ZSkgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExhYmVsLCBudWxsLCBcIlRla3N0XCIpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dCwgeyB2YWx1ZTogcGFyYWdyYXBoLnRleHQgfHwgJycsIG9uQ2hhbmdlOiAoZSkgPT4gaGFuZGxlRmllbGRDaGFuZ2UoaW5kZXgsICd0ZXh0JywgZS50YXJnZXQudmFsdWUpIH0pLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMYWJlbCwgbnVsbCwgXCJCaWxkZVwiKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcFpvbmUsIHsgb25DaGFuZ2U6IChmaWxlcykgPT4gaGFuZGxlSW1hZ2VVcGxvYWQoaW5kZXgsIGZpbGVzKSB9KSxcbiAgICAgICAgICAgIHBhcmFncmFwaC5pbWFnZSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgbXQ6IFwiZGVmYXVsdFwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IHNyYzogcGFyYWdyYXBoLmltYWdlLCBhbHQ6IFwiUGFyYWdyYWYgYmlsZGVcIiwgc3R5bGU6IHsgbWF4V2lkdGg6ICcyMDBweCcgfSB9KSkpKSkpLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwgeyB0eXBlOiBcImJ1dHRvblwiLCB2YXJpYW50OiBcInByaW1hcnlcIiwgb25DbGljazogaGFuZGxlQWRkUGFyYWdyYXBoIH0sIFwiTGVnZyB0aWwgcGFyYWdyYWZcIikpKTtcbn1cbmV4cG9ydCBkZWZhdWx0IFBhcmFncmFwaHNFZGl0b3I7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3gsIEJ1dHRvbiwgRHJvcFpvbmUsIFRleHQsIH0gZnJvbSAnQGFkbWluanMvZGVzaWduLXN5c3RlbSc7XG5mdW5jdGlvbiBVcGxvYWRJbWFnZSh7IHJlY29yZCB9KSB7XG4gICAgY29uc3QgW2ZpbGUsIHNldEZpbGVdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3VwbG9hZGluZywgc2V0VXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCByZXNvdXJjZUlkID0gcmVjb3JkPy5yZXNvdXJjZUlkIHx8ICdBcnRpY2xlJztcbiAgICBjb25zdCByZWNvcmRJZCA9IHJlY29yZD8uaWQ7XG4gICAgY29uc3QgYWN0aW9uVXJsID0gYC9hZG1pbi9hcGkvcmVzb3VyY2VzLyR7cmVzb3VyY2VJZH0vcmVjb3Jkcy8ke3JlY29yZElkfS9lZGl0YDtcbiAgICBjb25zdCBoYW5kbGVGaWxlQ2hhbmdlID0gKGZpbGVzKSA9PiB7XG4gICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRGaWxlKGZpbGVzWzBdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlVXBsb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWZpbGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNldFVwbG9hZGluZyh0cnVlKTtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsIGZpbGUpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VwbG9hZCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRVcGxvYWRpbmcoZmFsc2UpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBhd2FpdCBmZXRjaChhY3Rpb25VcmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGZlYXR1cmVkSW1hZ2U6IGRhdGEudXJsIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhbGVydChgQmlsZGUgb3BwbGFzdGV0OiAke2RhdGEudXJsfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoJ0JpbGRlb3BwbGFzdGluZyBmZWlsZXQnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyB2YXJpYW50OiBcImdyZXlcIiB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRleHQsIHsgdmFyaWFudDogXCJsZ1wiIH0sIFwiTGFzdCBvcHAgYmlsZGVcIiksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRHJvcFpvbmUsIHsgb25DaGFuZ2U6IGhhbmRsZUZpbGVDaGFuZ2UgfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7IHZhcmlhbnQ6IFwicHJpbWFyeVwiLCBvbkNsaWNrOiBoYW5kbGVVcGxvYWQsIGRpc2FibGVkOiB1cGxvYWRpbmcgfSwgdXBsb2FkaW5nID8gJ0xhc3RlciBvcHAuLi4nIDogJ0xhc3Qgb3BwJykpKTtcbn1cbmV4cG9ydCBkZWZhdWx0IFVwbG9hZEltYWdlO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCb3gsIERyb3Bab25lLCBMYWJlbCwgfSBmcm9tICdAYWRtaW5qcy9kZXNpZ24tc3lzdGVtJztcbmZ1bmN0aW9uIEZlYXR1cmVkSW1hZ2VFZGl0b3IocHJvcHMpIHtcbiAgICBjb25zdCB7IG9uQ2hhbmdlLCBwcm9wZXJ0eSwgcmVjb3JkIH0gPSBwcm9wcztcbiAgICBjb25zdCBpbml0aWFsVmFsdWUgPSByZWNvcmQucGFyYW1zW3Byb3BlcnR5Lm5hbWVdIHx8ICcnO1xuICAgIGNvbnN0IFtjdXJyZW50SW1hZ2VVcmwsIHNldEN1cnJlbnRJbWFnZVVybF0gPSB1c2VTdGF0ZShpbml0aWFsVmFsdWUpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIG9uQ2hhbmdlKHByb3BlcnR5Lm5hbWUsIGN1cnJlbnRJbWFnZVVybCk7XG4gICAgfSwgW2N1cnJlbnRJbWFnZVVybCwgb25DaGFuZ2UsIHByb3BlcnR5Lm5hbWVdKTtcbiAgICBjb25zdCBoYW5kbGVJbWFnZVVwbG9hZCA9IGFzeW5jIChmaWxlcykgPT4ge1xuICAgICAgICBpZiAoIWZpbGVzIHx8IGZpbGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzWzBdO1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgZmlsZSk7XG4gICAgICAgIGNvbnN0IHVwbG9hZFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXBsb2FkJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1cGxvYWRSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHVwbG9hZFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnN0IHVwbG9hZGVkVXJsID0gZGF0YS51cmw7XG4gICAgICAgICAgICBzZXRDdXJyZW50SW1hZ2VVcmwodXBsb2FkZWRVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoJ09wcGxhc3RuaW5nIGZlaWxldCBmb3IgcGFyYWdyYWYnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgdmFyaWFudDogXCJ3aGl0ZVwiLCBwOiBcImxnXCIsIG1iOiBcInhsXCIsIGJvcmRlcjogXCJkZWZhdWx0XCIgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIG51bGwsIFwiQmlsZGVcIiksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERyb3Bab25lLCB7IG9uQ2hhbmdlOiAoZmlsZXMpID0+IGhhbmRsZUltYWdlVXBsb2FkKGZpbGVzKSB9KSxcbiAgICAgICAgICAgIGN1cnJlbnRJbWFnZVVybCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChCb3gsIHsgbXQ6IFwiZGVmYXVsdFwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IHNyYzogY3VycmVudEltYWdlVXJsLCBhbHQ6IFwiRmVhdHVyZWRcIiwgc3R5bGU6IHsgbWF4V2lkdGg6ICcyMDBweCcgfSB9KSkpKSkpO1xufVxuZXhwb3J0IGRlZmF1bHQgRmVhdHVyZWRJbWFnZUVkaXRvcjtcbiIsIkFkbWluSlMuVXNlckNvbXBvbmVudHMgPSB7fVxuaW1wb3J0IFBhcmFncmFwaEVkaXRvciBmcm9tICcuLi9kaXN0L2NvbXBvbmVudHMvcGFyYWdyYXBoLWVkaXRvcidcbkFkbWluSlMuVXNlckNvbXBvbmVudHMuUGFyYWdyYXBoRWRpdG9yID0gUGFyYWdyYXBoRWRpdG9yXG5pbXBvcnQgVXBsb2FkSW1hZ2UgZnJvbSAnLi4vZGlzdC9jb21wb25lbnRzL3VwbG9hZC1pbWFnZSdcbkFkbWluSlMuVXNlckNvbXBvbmVudHMuVXBsb2FkSW1hZ2UgPSBVcGxvYWRJbWFnZVxuaW1wb3J0IEZlYXR1cmVkSW1hZ2VFZGl0b3IgZnJvbSAnLi4vZGlzdC9jb21wb25lbnRzL0ZlYXR1cmVkSW1hZ2VFZGl0b3InXG5BZG1pbkpTLlVzZXJDb21wb25lbnRzLkZlYXR1cmVkSW1hZ2VFZGl0b3IgPSBGZWF0dXJlZEltYWdlRWRpdG9yIl0sIm5hbWVzIjpbImdldFBhcmFncmFwaHNGcm9tUGFyYW1zIiwicGFyYW1zIiwicHJvcGVydHlOYW1lIiwicGFyYWdyYXBocyIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic3RhcnRzV2l0aCIsInBhcnRzIiwic3BsaXQiLCJpbmRleCIsInBhcnNlSW50IiwiTnVtYmVyIiwiaXNOYU4iLCJ0ZXh0Iiwic3ViS2V5Iiwic2xpY2UiLCJqb2luIiwiUGFyYWdyYXBoc0VkaXRvciIsInByb3BzIiwib25DaGFuZ2UiLCJwcm9wZXJ0eSIsInJlY29yZCIsImluaXRpYWxWYWx1ZSIsIm5hbWUiLCJwYXJzZWRQYXJhZ3JhcGhzIiwiSlNPTiIsInBhcnNlIiwibGVuZ3RoIiwicGFyYWdyYXBoTGlzdCIsInNldFBhcmFncmFwaExpc3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImhhbmRsZUZpZWxkQ2hhbmdlIiwiZmllbGQiLCJ2YWx1ZSIsIm5ld0xpc3QiLCJoYW5kbGVBZGRQYXJhZ3JhcGgiLCJzdWJ0aXRsZSIsImltYWdlIiwiaGFuZGxlSW1hZ2VVcGxvYWQiLCJmaWxlcyIsImZpbGUiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJvayIsImRhdGEiLCJqc29uIiwiaW1hZ2VVcmwiLCJ1cmwiLCJhbGVydCIsIlJlYWN0IiwiY3JlYXRlRWxlbWVudCIsIkJveCIsIm1hcCIsInBhcmFncmFwaCIsInZhcmlhbnQiLCJwIiwibWIiLCJib3JkZXIiLCJMYWJlbCIsIklucHV0IiwiZSIsInRhcmdldCIsIkRyb3Bab25lIiwibXQiLCJzcmMiLCJhbHQiLCJzdHlsZSIsIm1heFdpZHRoIiwiQnV0dG9uIiwidHlwZSIsIm9uQ2xpY2siLCJVcGxvYWRJbWFnZSIsInNldEZpbGUiLCJ1cGxvYWRpbmciLCJzZXRVcGxvYWRpbmciLCJyZXNvdXJjZUlkIiwicmVjb3JkSWQiLCJpZCIsImFjdGlvblVybCIsImhhbmRsZUZpbGVDaGFuZ2UiLCJoYW5kbGVVcGxvYWQiLCJyZXNwb25zZSIsImhlYWRlcnMiLCJzdHJpbmdpZnkiLCJmZWF0dXJlZEltYWdlIiwiVGV4dCIsImRpc2FibGVkIiwiRmVhdHVyZWRJbWFnZUVkaXRvciIsImN1cnJlbnRJbWFnZVVybCIsInNldEN1cnJlbnRJbWFnZVVybCIsInVwbG9hZGVkVXJsIiwiQWRtaW5KUyIsIlVzZXJDb21wb25lbnRzIiwiUGFyYWdyYXBoRWRpdG9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0lBRUEsTUFBTUEsdUJBQXVCLEdBQUdBLENBQUNDLE1BQU0sRUFBRUMsWUFBWSxLQUFLO01BQ3RELE1BQU1DLFVBQVUsR0FBRyxFQUFFO01BQ3JCQyxNQUFNLENBQUNDLElBQUksQ0FBQ0osTUFBTSxDQUFDLENBQUNLLE9BQU8sQ0FBRUMsR0FBRyxJQUFLO1FBQ2pDLElBQUlBLEdBQUcsQ0FBQ0MsVUFBVSxDQUFDLEdBQUdOLFlBQVksQ0FBQSxDQUFBLENBQUcsQ0FBQyxFQUFFO0lBQ3BDLE1BQUEsTUFBTU8sS0FBSyxHQUFHRixHQUFHLENBQUNHLEtBQUssQ0FBQyxHQUFHLENBQUM7VUFDNUIsTUFBTUMsS0FBSyxH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
